function Snake(){switch(this.x=0,this.y=0,this.xspeed=0,this.yspeed=0,this.score=0,this.total=0,this.tail=[],this.gameOver=!1,this.color=Math.floor(3*Math.random())+1,this.r=0,this.g=0,this.b=0,this.color){case 1:this.r=1;break;case 2:this.g=1;break;case 3:this.b=1;break;default:this.g=1}this.update=function(){this.x=this.x+this.xspeed*scl,this.y=this.y+this.yspeed*scl,this.x=constrain(this.x,0,width-scl),this.y=constrain(this.y,0,height-scl);var t=createVector(this.x,this.y);this.tail.push(t),this.tail.splice(0,this.tail.length-this.total-1),textAlign(CENTER),textSize(38),fill(175),text(this.total,width/2,height/2)},this.show=function(){noStroke();for(var t=0;t<this.tail.length;t++)fill(this.r*t*2,this.g*t*2,this.b*t*2),rect(this.tail[t].x,this.tail[t].y,scl,scl)},this.crash=function(){for(var t=0;t<this.tail.length-1;t++){var s=this.tail[t],i=dist(this.x,this.y,s.x,s.y);3>i&&(this.score=this.total,this.total=0,this.tail=[],this.x=0,this.y=0,this.xspeed=0,this.yspeed=0,this.gameOver=!0)}},this.eat=function(t){var s=dist(this.x,this.y,t.x,t.y);return 3>s?(this.total=this.total+1,!0):!1},this.dir=function(t,s){0==this.total&&(this.xspeed=t,this.yspeed=s),-1*t!=this.xspeed?this.xspeed=t:this.xspeed=this.xspeed,-1*s!=this.yspeed?this.yspeed=s:this.yspeed=this.yspeed}}